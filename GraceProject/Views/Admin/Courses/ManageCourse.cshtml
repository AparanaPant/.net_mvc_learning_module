@model GraceProject.Models.Course
@{
    Layout = "~/Views/Shared/_StudentLayout.cshtml";
    ViewBag.Title = "Manage Course";

}
@{
    var educators = ViewBag.Educators as List<GraceProject.Models.ApplicationUser> ?? new List<GraceProject.Models.ApplicationUser>();
    GraceProject.Models.Course Course = new Course();
    if (ViewData["Course"] != null)
        Course = (GraceProject.Models.Course)ViewData["Course"];
}

<h2>Manage Course: @(string.IsNullOrWhiteSpace(Model.Title) ? "No Title" : Model.Title)</h2>

<h3>Modules</h3>
@if (Model.Modules == null || !Model.Modules.Any())
{
    <p>No modules available.</p>
}
else
{
    <ul>
        @foreach (var module in Model.Modules)
        {
            <li>@module.ModuleName</li>
        }
    </ul>
}
<a href="~/Admin/Modules/ManageModule/@Model.CourseID" class="btn btn-primary mb-3">Manage Module</a>

<h3>Quizzes</h3>
@if (Model.Quizzes == null || !Model.Quizzes.Any())
{
    <p>No quizzes available.</p>
}
else
{
    <ul>
        @foreach (var quiz in Model.Quizzes)
        {
            <li>@quiz.Title</li>
        }
    </ul>
}

<h3>Add Educator</h3>
<form asp-action="AddEducatorToCourse" method="post">
    <input type="hidden" name="courseId" value="@Model.CourseID" />
    <div class="form-group">
        <label for="educatorId">Select Educator:</label>
        <select id="educatorId" name="educatorId" class="form-control">
            <option value="">-- Select Educator --</option>
            @foreach (var educator in educators)
            {
                <option value="@educator.Id">@educator.FirstName @educator.LastName (@educator.Email)</option>

            }
        </select>
    </div>
    <button type="submit" class="btn btn-success">Add Educator</button>
</form>
